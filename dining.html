<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Main Page</title>
  <link rel="stylesheet" type="text/css" href="thesis.css">
</head>
<style>
    body {
      transition: background-color 2s, opacity 2s;
      opacity: 1;
    }

    #fade-in {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: black;
      opacity: 1;
      transition: opacity 2s ease-in-out;
    }

    #fade-out {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: black;
      opacity: 0;
      transition: opacity 2s ease-in-out;
      pointer-events: none;
    }

    #context, #words_context {
      position: fixed;
      top: 0;
      left: 50px;
      margin: 0;
      padding: 10px;
      font-family: monospace;
    }

    #question, #words_question {
      position: fixed;
      top: 50px;
      left: 16px;
      margin: 0;
      padding: 10px;
      font-family: monospace;
    }

    #words_context, #words_question {
      display: none;
    }

    #context:hover, #question:hover {
      display: none;
    }

    #context:hover + #words_context, #question:hover + #words_question {
      display: block;
    }
  </style>
<body>
  <div id="fade-in"></div>
  <pre class="time" id="context">
╭╶╶╶╶╮
: ౨ৎ :
╰╶╶╶╶╯
  </pre>
  <pre class="time" id="words_context">
    ╭╶╶╶╶╶╶╶╶╶╮
    : Context :
    ╰╶╶╶╶╶╶╶╶╶╯
  </pre>
  <pre class="question" id="question">
╭╶╶╶╶╮
: ?? :
╰╶╶╶╶╯
  </pre>
  <pre class="question" id="words_question">
╭╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╮
: To move between scenes and frames, :
:    users will sometimes need to    :
:  click on an area where the mouse  :
: cursor turns into a hand pointer.  :
╰╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╶╯
  </pre>
  <div id="container">
    <div id="container">
      <pre class="time" id="clock">
╔══════════════════╗
║ ███day │ 7:25 AM ║
╚══════════════════╝
      </pre>
      <pre id="breakfast">
                    _______________
                   |\ _____________\
                   | |\_____________`.
                   | |              |
                   | |              |
   _______         | |              |
  |_______|        | |              |
 /\        \       | |    CEREAL    |
/__\________\      | |              |
|  |        |      | |              |
|--|--------|      | |              |
|  |  MILK  |      | |              |
|--|--------|       \|_ / __________|
|  |        |          /
|  |      .__oOo8oo0Oo/o__.
|__|_______\=============/
            \           /
             `---------'
      </pre>
      <pre id="empty-breakfast" style="display: none;">
                    _______________
                   |\ _____________\
                   | |\_____________.
                   | |              |
                   | |              |
   _______         | |              |
  |_______|        | |              |
 /\        \       | |    CEREAL    |
/__\________\      | |              |
|  |        |      | |              |
|--|--------|      | |              |
|  |  MILK  |      | |              |
|--|--------|       \|_ / __________|
|  |        |          /
|  |      .___________/___.
|__|_______\=============/
            \           /
              ---------'
      </pre>

      <div id="dialogue-box" class="pointer dialogue-box">
        <pre class="asciiAlign">╭─────────────────────────────────── ˚₊‧꒰ა ☆ ໒꒱ ‧₊˚ ───────────────────────────────────┒

I don't really have an appetite but... I should at least eat something.


>
                               </pre>
      </div>
      <div id="dialogue-box2" class="pointer dialogue-box" style="display: none;">
        <pre class="asciiAlign">╭─────────────────────────────────── ˚₊‧꒰ა ☆ ໒꒱ ‧₊˚ ───────────────────────────────────┒

Plus I won't be having lunch until noon.


>
                               </pre>
      </div>
      <div id="dialogue-box3" class="pointer dialogue-box" style="display: none;">
        <pre class="asciiAlign">╭─────────────────────────────────── ˚₊‧꒰ა ☆ ໒꒱ ‧₊˚ ───────────────────────────────────┒

I only have a few minutes to eat... better hurry.


>
                               </pre>
      </div>
      <div id="dialogue-box4" class="pointer dialogue-box" style="display: none;">
        <pre class="asciiAlign">╭─────────────────────────────────── ˚₊‧꒰ა ☆ ໒꒱ ‧₊˚ ───────────────────────────────────┒

Alright, let's get going.


>
                               </pre>
      </div>
    </div>
  </div>
  <div id="fade-out"></div>
  <script>
    let idleTimer;
    let currentState = 0;
    let userInteracted = false;

    function resetIdleTimer() {
      userInteracted = true;
      clearTimeout(idleTimer);
      idleTimer = setTimeout(progressScene, 30000);
    }

    function progressScene() {
      userInteracted = false;

      switch(currentState) {
        case 0:
          document.getElementById('dialogue-box').style.display = 'none';
          document.getElementById('dialogue-box2').style.display = 'block';
          currentState = 1;
          idleTimer = setTimeout(progressScene, 30000);
          break;

        case 1:
          document.getElementById('dialogue-box2').style.display = 'none';
          document.getElementById('dialogue-box3').style.display = 'block';
          currentState = 2;
          idleTimer = setTimeout(progressScene, 30000);
          break;

        case 2:
          document.body.style.backgroundColor = "black";
          document.getElementById("container").style.display = "none";

          setTimeout(() => {
            document.body.style.backgroundColor = "#ece6e3";
            document.getElementById("container").style.display = "block";
            document.getElementById("breakfast").style.display = "none";
            document.getElementById("empty-breakfast").style.display = "block";
            document.getElementById('dialogue-box3').style.display = 'none';
            document.getElementById('dialogue-box4').style.display = 'block';

            document.getElementById('clock').innerHTML = "╔══════════════════╗\n║ ███day │ 7:34 AM ║\n╚══════════════════╝";

            currentState = 3;
            idleTimer = setTimeout(progressScene, 30000);
          }, 2000);
          break;

        case 3:
          document.getElementById("fade-out").style.opacity = "1";
          setTimeout(() => {
            window.location.href = "street.html";
          }, 2000);
          currentState = 4;
          break;
      }
    }

    window.onload = function() {
    document.getElementById("fade-in").style.opacity = "0";
    setTimeout(() => {
    document.getElementById("fade-in").style.display = "none";
    currentState = 0;
    idleTimer = setTimeout(progressScene, 30000);
    }, 2000);
    };

    document.addEventListener('mousemove', resetIdleTimer);
    document.addEventListener('mousedown', resetIdleTimer);
    document.addEventListener('keypress', resetIdleTimer);
    document.addEventListener('touchstart', resetIdleTimer);
    document.addEventListener('scroll', resetIdleTimer);

    document.getElementById('dialogue-box').addEventListener('click', function() {
      document.getElementById('dialogue-box').style.display = 'none';
      document.getElementById('dialogue-box2').style.display = 'block';
      currentState = 1;
      resetIdleTimer();
    });

    document.getElementById('dialogue-box2').addEventListener('click', function() {
      document.getElementById('dialogue-box2').style.display = 'none';
      document.getElementById('dialogue-box3').style.display = 'block';
      currentState = 2;
      resetIdleTimer();
    });

    document.getElementById('dialogue-box3').addEventListener('click', function() {
      document.body.style.backgroundColor = "black";
      document.getElementById("container").style.display = "none";

      setTimeout(() => {
        document.body.style.backgroundColor = "#ece6e3";
        document.getElementById("container").style.display = "block";
        document.getElementById("breakfast").style.display = "none";
        document.getElementById("empty-breakfast").style.display = "block";
        document.getElementById('dialogue-box3').style.display = 'none';
        document.getElementById('dialogue-box4').style.display = 'block';

        document.getElementById('clock').innerHTML = "╔══════════════════╗\n║ ███day │ 7:34 AM ║\n╚══════════════════╝";

        currentState = 3;
        resetIdleTimer();
      }, 2000);
    });

    document.getElementById('dialogue-box4').addEventListener('click', function() {
      document.getElementById("fade-out").style.opacity = "1";
      setTimeout(() => {
        window.location.href = "street.html";
      }, 2000);
      currentState = 4;
      clearTimeout(idleTimer);
    });

    function fadeToBlackAndRedirect() {
     let fadeOverlay = document.createElement("div");
     fadeOverlay.style.position = "fixed";
     fadeOverlay.style.top = "0";
     fadeOverlay.style.left = "0";
     fadeOverlay.style.width = "100%";
     fadeOverlay.style.height = "100%";
     fadeOverlay.style.background = "black";
     fadeOverlay.style.opacity = "0";
     fadeOverlay.style.transition = "opacity 2s ease-in-out";
     document.body.appendChild(fadeOverlay);

     setTimeout(() => {
       fadeOverlay.style.opacity = "1";
     }, 10);

     setTimeout(() => {
       window.location.href = "context.html";
     }, 2000);
   }

   document.getElementById("context").addEventListener("click", fadeToBlackAndRedirect);
   document.getElementById("words_context").addEventListener("click", fadeToBlackAndRedirect);
  </script>
</body>
</html>

<!--
When user clicks on dialogue-box, dialogue-box2 replaces it.
When user clicks on dialogue-box2, dialogue-box3 replaces it.
When user clicks on dialogue-box3, the screen transitions to dark, before breakfast is replaced by empty-breakfast and dialogue replaced with dialogue-box4
When user clicks on dialogue-box4, the user is directed to dining.html -->
